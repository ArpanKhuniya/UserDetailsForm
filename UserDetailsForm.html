<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./UserDetailsForm.css" />
    <!-- <script src="./userDetailsForm.js"></script> -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js"
      type="text/javascript"
    ></script>
    <title>User Details Form</title>
  </head>

  <body>
    <!-- User Details Form -->
    <div id="div1">
      <form id="userDetailsForm">
        <div id="submitSuccessful" data-bind="visible : successfulMessage">
          <h3>Your details have been recorded.</h3>
          <button
            type="button"
            id="successBtn"
            data-bind="click:HideSuccessfulMessage"
          >
            Ok</button
          ><br />
          <a href="#div2" id="viewUserLink">View users list</a>
        </div>

        <!-- Section 1 -->
        <div id="section1" data-bind="visible: section1">
          <h3
            class="sectionHead"
            data-bind="text : sectionHeaderForPersonalDetails()"
          ></h3>
          <!-- First Name -->
          <div class="formElement">
            <label for="firstName">First Name:</label>
            <input
              type="text"
              id="firstName"
              class="input"
              name="firstName"
              data-bind="value:firstName ,valueUpdate:'afterkeydown' "
            />
            <span id="errorfirstName" data-bind="visible : ValidateFirstName()"
              >First Name should have only alphabets.</span
            >
          </div>
          <!-- Last Name -->
          <div class="formElement">
            <label for="lastName">Last Name:</label>
            <input
              type="text"
              id="lastName"
              name="lastName"
              data-bind="value:lastName, valueUpdate:'afterkeydown'"
            />
            <span id="errorlastName" data-bind="visible:ValidateLastName()"
              >Last Name should have only alphabets.</span
            >
          </div>
          <!-- Phone Number -->
          <div class="formElement">
            <label for="phoneNumber">Phone Number:</label>
            <input
              type="tel"
              id="phoneNumber"
              name="phoneNumber"
              data-bind="value:phoneNumber ,valueUpdate:'afterkeydown'"
            />
            <span
              id="errorPhoneNumber"
              data-bind="visible:ValidatePhoneNumber()"
              >Please enter 10 digit phone number.</span
            >
          </div>
          <!-- Email -->
          <div class="formElement">
            <label for="email">Email:</label>
            <input
              type="email"
              id="email"
              name="email"
              data-bind="value:email,valueUpdate:'afterkeydown'"
            />
            <span id="errorEmail" data-bind="visible:ValidateEmail()"
              >Email should have @ and .</span
            >
          </div>
          <button
            type="button"
            id="button-next"
            data-bind="click:LoadSection2 ,enable:EnableNextButtonOfSection1"
          >
            
            Next
          </button>
        </div>

        <!-- Section 2 -->
        <div id="section2" data-bind="visible:section2">
          <h3
            class="sectionHead"
            data-bind="text : sectionHeaderForPersonalDetails()"
          ></h3>
          <!-- Age -->
          <div class="formElement">
            <label for="age">Age:</label>
            <input
              type="number"
              id="age"
              name="age"
              data-bind="value:age, valueUpdate:'afterkeydown'"
            />
            <span id="errorAge" data-bind="visible:ValidateAge"
              >Age should be greater than 0 and less than 150</span
            >
          </div>
          <!-- Disability -->
          <div class="formElement">
            <label for="disability">Disability:</label>
            <select
              name="disability"
              id="disability"
              data-bind="options:disabilityOptions, value:disability "
            ></select>
          </div>
          <!-- Marital Status -->
          <div class="formElement">
            <label for="marital-status">Marital-Status:</label>
            <select
              name="marital-status"
              id="marital-status"
              data-bind="options:maritalStatusOptions,value:maritalStatus"
            ></select>
          </div>
          <!-- Gender -->
          <div class="formElement genderField">
            <div id="flexGenderInputField">
              <label for="gender">Gender:</label>
              <div class="gender">
                <label for="male">Male</label>
                <input
                  type="radio"
                  name="gender"
                  value="Male"
                  id="gender"
                  data-bind="checked:gender "
                  checked
                />
              </div>
              <div class="gender">
                <label for="female">Female</label>
                <input
                  type="radio"
                  name="gender"
                  value="Female"
                  id="gender"
                  data-bind="checked:gender"
                />
              </div>
              <span id="errorgender" style="display: none"
                >Please enter a value.</span
              >
            </div>
          </div>
          <div class="flexbox">
            <button
              type="button"
              id="button-previous2"
              data-bind="click:LoadSection1"
            >
              Previous
            </button>
            <button
              type="button"
              id="button-next2"
              data-bind="click:LoadSection3 ,enable:EnableNextButtonOfSection2"
            >
              
              Next
            </button>
          </div>
        </div>

        <!-- Section 3 -->
        <div id="section3" data-bind="visible:section3">
          <h3
            class="sectionHead"
            data-bind="text : sectionHeaderForAddressDetails()"
          ></h3>
          <!-- Address -->
          <div class="formElement">
            <label for="address">Address: </label>
            <input
              type="text"
              id="address"
              name="address"
              data-bind="value:address ,valueUpdate:'afterkeydown'"
            />
          </div>
          <!-- City -->
          <div class="formElement">
            <label for="city">City:</label>
            <input
              type="text"
              id="city"
              name="city"
              data-bind="value:city,valueUpdate:'afterkeydown'"
            />
            <span id="errorcity" data-bind="visible:ValidateCity()"
              >City name should have only alphabets.</span
            >
          </div>
          <!-- State -->
          <div class="formElement">
            <label for="state">State:</label>
            <input
              type="text"
              id="state"
              name="state"
              data-bind="value:state,valueUpdate:'afterkeydown'"
            />
            <!-- <span id="errorstate">Please enter a value.</span> -->
            <span id="errorcity" data-bind="visible:ValidateState()"
              >State name should have only alphabets.</span
            >
          </div>
          <!-- Country -->
          <div class="formElement">
            <label for="country">Country:</label>
            <input
              type="text"
              id="country"
              name="country"
              data-bind="value:country ,valueUpdate:'afterkeydown'"
            />
            <span id="errorcity" data-bind="visible:ValidateCountry()"
              >Country name should have only alphabets.</span
            >
            <!-- <span id="errorcountry">Please enter a value.</span> -->
          </div>
          <div class="flexbox">
            <button
              type="button"
              id="button-previous2"
              data-bind="click:LoadSection2"
            >
              Previous
            </button>
            <button
              type="submit"
              id="submit"
              data-bind="enable:ValidateNullFields(),click : OnSubmit, visible:whenSubmit"
            >
              Submit
            </button>
            <button
              type="submit"
              id="submit"
              data-bind="visible:whenUpdate ,click: $root.UpdateUserDetailsFormButton "
            >
              Update
            </button>
            <br />
          </div>
          <p
            id="AllFieldsErrorMessage"
            data-bind="visible:!ValidateNullFields()"
          >
            Please fill all fields.
          </p>
        </div>
      </form>
    </div>

    <hr />

    <div id="div2">
      <h3 class="sectionfilter">List of users</h3>
      <div id="userListGrid">
        <div class="userListDiv">
          <p class="userListHead" data-bind="click:sortTable('firstName')"
            >First Name</p
          >
        </div>
        <div class="userListDiv">
          <p class="userListHead" data-bind="click:sortTable('lastName')"
            >Last Name</p
          >
        </div>
        <div class="userListDiv">
          <p class="userListHead" data-bind="click:sortTable('phoneNumber')"
            >Phone Number</p
          >
        </div>
        <div class="userListDiv">
          <p class="userListHead" data-bind="click:sortTable('email')">Email</p>
        </div>
        <div class="userListDiv">
          <p class="userListHead" data-bind="click:sortTable('age')">Age</p>
        </div>
        <div class="userListDiv">
          <p class="userListHead" data-bind="click:sortTable('disability')"
            >Disability</p
          >
        </div>
        <div class="userListDiv">
          <p class="userListHead" data-bind="click:sortTable('maritalStatus')"
            >Marital-Status</p
          >
        </div>
        <div class="userListDiv">
          <p class="userListHead" data-bind="click:sortTable('gender')">Gender</p>
        </div>

        <div class="userListDiv">
          <p class="userListHead" data-bind="click:sortTable('address')"
            >Address
          </p>
        </div>
        <div class="userListDiv">
          <p class="userListHead" data-bind="click:sortTable('city')">City</p>
        </div>
        <div class="userListDiv">
          <p class="userListHead" data-bind="click:sortTable('state')">State</p>
        </div>
        <div class="userListDiv">
          <p class="userListHead" data-bind="click:sortTable('country')"
            >Country
          </p>
        </div>
        <div class="userListDiv">
          <p class="userListHead"
            >CRUD Operations
          </p>
        </div>
      </div>
      <div data-bind="foreach:userDB">
        <div id="userListGridData" >
          <p class="userListData" data-bind="text: firstName"></p>
          <p class="userListData" data-bind="text: lastName"></p>
          <p class="userListData" data-bind="text: phoneNumber"></p>
          <p class="userListData" data-bind="text: email"></p>
          <p class="userListData" data-bind="text: age"></p>
          <p class="userListData" data-bind="text: disability"></p>
          <p class="userListData" data-bind="text: maritalStatus"></p>
          <p class="userListData" data-bind="text: gender"></p>
          <p class="userListData" data-bind="text: address"></p>
          <p class="userListData" data-bind="text: city"></p>
          <p class="userListData" data-bind="text: state"></p>
          <p class="userListData" data-bind="text: country"></p>
          <div class="userListData">
            <button class="crudButtonRemove" data-bind="click: $root.RemoveUser">Remove</button>
            <a class="crudButtonUpdate" data-bind="click: $root.UpdateUserDetails , attr:{href:'div1'}, clickBubble: false">Update</a>
          </div>
          <button type="button" data-bind="click: $root.getIndex">GetIndex</button> 
          
        </div>
          
      </div>
      <p data-bind="text:index"></p>
    </div>

    <script src="./userDetailsFormUsingKnockout.js"></script>
  </body>
</html>
